<div class="travel-map-container">
  <div id="travel-map"></div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const worldBounds = L.latLngBounds(
    L.latLng(-60, -180),
    L.latLng(85, 180)
  );
  
  const map = L.map("travel-map", {
    zoomControl: false,
    attributionControl: false,
    scrollWheelZoom: false,
    doubleClickZoom: false,
    dragging: false,
    boxZoom: false,
    keyboard: false,
    tap: false
  });

  const tiles = L.tileLayer(
    "https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png",
    {
      subdomains: "abcd",
      maxZoom: 18,
      noWrap: true,          // ✅ 세계 반복(wrap) 방지
      bounds: worldBounds,   // ✅ bounds 밖 타일 요청/표시 최소화
    }
  ).addTo(map);

  // ✅ 타일이 준비된 뒤, 사이즈 재계산 + bounds 맞추기
  tiles.once("load", () => {
    map.invalidateSize(true);
    map.fitBounds(worldBounds, {
      padding: [10, 10]      // ✅ 가장자리(특히 위쪽) 선 보이는 것 완화
    });
  });
  
  const points = [
    [37.5665, 126.9780],   // Seoul
    [38.0967, 128.6210],   // Sokcho
    [33.4996, 126.5312],   // Jeju
    [22.9243, 113.8735],   // Dongguan
    [35.0116, 135.7681],   // Kyoto
    [43.0642, 141.3469],   // Sapporo
    [52.0302, 8.5325],     // Bielefeld
    [-37.7949, 144.9740], // Creswick
    [48.8566, 2.3522]     // France
  ];

  points.forEach(p => {
    L.circleMarker(p, {
      radius: 3,
      color: "#5fa87c",
      fillColor: "#5fa87c",
      fillOpacity: 1,
      weight: 1,
      interactive: false
    }).addTo(map);
  });
});
</script>
